"use strict";(self.webpackChunkdocs_as_code_jane=self.webpackChunkdocs_as_code_jane||[]).push([[964],{1367:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>d,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"whatsapp-official-account-inbound-flow","title":"Onboard a client profile with a WhatsApp official account pool (inbound flow)","description":"From LeapXpert version 2.4.1 onwards, we have supported the MCP mode for client profile onboarding with a WhatsApp official account pool. This flow is different from Onboard a prospect with a WhatsApp official account pool.","source":"@site/how-to/whatsapp-official-account-inbound-flow.md","sourceDirName":".","slug":"/whatsapp-official-account-inbound-flow","permalink":"/docs-as-code-jane/how-to/whatsapp-official-account-inbound-flow","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"referenceSidebar","previous":{"title":"Bulk User Onboarding to WhatsApp Native","permalink":"/docs-as-code-jane/how-to/whatsapp-native-bulk-onboarding"}}');var t=s(4848),o=s(8453);const r={},c="Onboard a client profile with a WhatsApp official account pool (inbound flow)",a={},l=[{value:"Before you start",id:"before-you-start",level:2},{value:"Understand the definition of primary accounts and secondary accounts",id:"understand-the-definition-of-primary-accounts-and-secondary-accounts",level:2},{value:"Onboard a client profile to WhatsApp official account pool: step-by-step instructions",id:"onboard-a-client-profile-to-whatsapp-official-account-pool-step-by-step-instructions",level:2},{value:"1. The client sends a request",id:"1-the-client-sends-a-request",level:3},{value:"2. System checks for users",id:"2-system-checks-for-users",level:3},{value:"3. Check for existing chat rooms",id:"3-check-for-existing-chat-rooms",level:3},{value:"4. Finding a visible client profile",id:"4-finding-a-visible-client-profile",level:3},{value:"5. Secondary number checking",id:"5-secondary-number-checking",level:3},{value:"6. Complete",id:"6-complete",level:3},{value:"Special cases",id:"special-cases",level:3},{value:"Share the QR code with the client (for AM users)",id:"share-the-qr-code-with-the-client-for-am-users",level:2},{value:"1. Leap Work web",id:"1-leap-work-web",level:3},{value:"2. Leap Work mobile",id:"2-leap-work-mobile",level:3},{value:"Alt text",id:"alt-text",level:2},{value:"3. Leap Work for Teams",id:"3-leap-work-for-teams",level:3}];function h(e){const n={blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"onboard-a-client-profile-with-a-whatsapp-official-account-pool-inbound-flow",children:"Onboard a client profile with a WhatsApp official account pool (inbound flow)"})}),"\n",(0,t.jsxs)(n.p,{children:["From LeapXpert version 2.4.1 onwards, we have supported the MCP mode for client profile onboarding with a WhatsApp official account pool. This flow is different from ",(0,t.jsx)(n.strong,{children:"Onboard a prospect with a WhatsApp official account pool"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"This article provides a detailed instruction to help you onboard a client profile to the WhatsApp official account pool (also known as the inbound flow)."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"before-you-start",children:"Before you start"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The company needs to contact LeapXpert to comprehensively configure this inbound flow."}),"\n",(0,t.jsx)(n.li,{children:"Your company admin has configured a WhatsApp official account pool."}),"\n",(0,t.jsxs)(n.li,{children:["The admin has enabled this feature configuration: ",(0,t.jsx)(n.strong,{children:"Auto promotion of NVC (non-verified client)"}),". However, currently we don't use the NVC term, instead, we refer to this as ",(0,t.jsx)(n.em,{children:'"client profile"'}),". ",(0,t.jsx)(n.img,{alt:"Alt text",src:s(1602).A+"",width:"1826",height:"828"})]}),"\n",(0,t.jsxs)(n.li,{children:["You need to set up an extension for the user. Otherwise, you cannot generate the QR code for that user.","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["To set up the extension, refer to ",(0,t.jsx)(n.strong,{children:"Manage extensions"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"The company provides the client following information:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Option 1"}),": User's QR code."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Option 2"}),": Official Account number & Extension. If you choose option 1, there is no need to provide this information."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Official Account number"}),": the primary WhatsApp official account number of your company. This is for clients to contact."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Extension"}),": a unique string to identify the company employee to connect to, for example, ",(0,t.jsx)(n.code,{children:"#michael"}),"."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["You need to contact your company admin to follow this instruction to add an extension: ",(0,t.jsx)(n.strong,{children:"Manage extensions"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Note:"})," The extension is essential for both options mentioned above."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"understand-the-definition-of-primary-accounts-and-secondary-accounts",children:"Understand the definition of primary accounts and secondary accounts"}),"\n",(0,t.jsx)(n.p,{children:"For your reference, see also:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Official account pools"})," (internal link)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Onboard a prospect with a WhatsApp official account pool"})," (internal link)"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"onboard-a-client-profile-to-whatsapp-official-account-pool-step-by-step-instructions",children:"Onboard a client profile to WhatsApp official account pool: step-by-step instructions"}),"\n",(0,t.jsx)(n.h3,{id:"1-the-client-sends-a-request",children:"1. The client sends a request"}),"\n",(0,t.jsx)(n.p,{children:"The client sends a request by two approaches:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Sending a message to the WhatsApp primary number with the extension."}),"\n",(0,t.jsx)(n.li,{children:"Scanning the QR code shared by the company employees (AM users)."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"2-system-checks-for-users",children:"2. System checks for users"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"If there is a user that matches the extension, search for any existing 1-1 chat rooms."}),"\n",(0,t.jsxs)(n.li,{children:["If the user is not found, the system sends a ",(0,t.jsx)(n.em,{children:'"Not Found"'})," message, and the process ends."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"3-check-for-existing-chat-rooms",children:"3. Check for existing chat rooms"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"If an existing 1:1 chat room with the user is active, a reminder message is sent to that room."}),"\n",(0,t.jsx)(n.li,{children:"If no active chat room exists, the system looks for a visible client profile (CP)."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"4-finding-a-visible-client-profile",children:"4. Finding a visible client profile"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"If a CP with a phone number exists and there is only 1 client profile assigned to the user, the system checks if any secondary phone number is available."}),"\n",(0,t.jsx)(n.li,{children:"If there are many client profiles, the system picks 1 client profile randomly."}),"\n",(0,t.jsx)(n.li,{children:"If no CP is found, the system creates a new client profile."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"5-secondary-number-checking",children:"5. Secondary number checking"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"If a secondary number is available, a chat room is created, and an invitation is sent."}),"\n",(0,t.jsx)(n.li,{children:"If a secondary number is unavailable, an error message is sent via the Primary number."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"6-complete",children:"6. Complete"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"A message with user info is sent."}),"\n",(0,t.jsxs)(n.li,{children:["The process ends with a user assigned to the client profile, and a chat room is activated.",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.img,{alt:"Alt text",src:s(2569).A+"",width:"1036",height:"1046"})]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"special-cases",children:"Special cases"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["If the client enters a text ",(0,t.jsx)(n.strong,{children:"without the extension"}),", they will receive an automatic reply. ",(0,t.jsx)(n.img,{alt:"Alt text",src:s(4448).A+"",width:"992",height:"666"})]}),"\n",(0,t.jsxs)(n.li,{children:["If the client enters the ",(0,t.jsx)(n.strong,{children:"incorrect extension"}),", they will receive an error message. ",(0,t.jsx)(n.img,{alt:"Alt text",src:s(5775).A+"",width:"684",height:"368"})]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"share-the-qr-code-with-the-client-for-am-users",children:"Share the QR code with the client (for AM users)"}),"\n",(0,t.jsxs)(n.p,{children:["AM users refer to this section to know how to share the QR code with the client via ",(0,t.jsx)(n.strong,{children:"Leap Work web"}),", ",(0,t.jsx)(n.strong,{children:"Leap Work mobile"}),", and ",(0,t.jsx)(n.strong,{children:"Leap Work for Teams"}),"."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"1-leap-work-web",children:"1. Leap Work web"}),"\n",(0,t.jsx)(n.p,{children:"To get the QR code on Leap Work web, do as follows:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Sign in to the ",(0,t.jsx)(n.strong,{children:"Leap Work web"}),", go to ",(0,t.jsx)(n.strong,{children:"Profile"}),", and click the ",(0,t.jsx)(n.strong,{children:"QR code icon"}),". ",(0,t.jsx)(n.img,{alt:"Alt text",src:s(2486).A+"",width:"1002",height:"642"})]}),"\n",(0,t.jsxs)(n.li,{children:["The client uses WhatsApp to scan the QR code to initiate the conversation with the user. ",(0,t.jsx)(n.img,{alt:"Alt text",src:s(6461).A+"",width:"986",height:"638"})]}),"\n"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Note:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"If you haven't had an extension, you cannot get the QR code. Please contact your company admin to follow this instruction to add an extension."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Once the QR code appears, share it with a client."}),"\n",(0,t.jsxs)(n.li,{children:["The client uses WhatsApp to scan the QR code to start the conversation with the user. ",(0,t.jsx)(n.img,{alt:"Alt text",src:s(2564).A+"",width:"578",height:"1056"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"If there is no extension, the user cannot see the QR code on Leap Work."}),"\n",(0,t.jsxs)(n.li,{children:["If there is an issue with the WhatsApp Business Account, you will see the following screen:  ",(0,t.jsx)(n.img,{alt:"Alt text",src:s(2787).A+"",width:"986",height:"636"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"2-leap-work-mobile",children:"2. Leap Work mobile"}),"\n",(0,t.jsx)(n.p,{children:"To get the QR code on Leap Work mobile, do as follows:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Sign in to the ",(0,t.jsx)(n.strong,{children:"Leap Work mobile"}),", go to the ",(0,t.jsx)(n.strong,{children:"profile screen"}),", and click the ",(0,t.jsx)(n.strong,{children:"QR code"}),".  ",(0,t.jsx)(n.img,{alt:"Alt text",src:s(8682).A+"",width:"590",height:"1134"})]}),"\n",(0,t.jsxs)(n.li,{children:["Once the QR code appears, share it with a client. ",(0,t.jsx)(n.img,{alt:"Alt text",src:s(1616).A+"",width:"594",height:"1064"}),"\n",(0,t.jsx)(n.img,{alt:"Alt text",src:s(7865).A+"",width:"588",height:"1064"})]}),"\n",(0,t.jsx)(n.li,{children:"The client uses WhatsApp to scan the QR code to start the conversation with the User."}),"\n"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Note:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"If there is no extension, the user cannot see the QR code on Leap Work mobile."}),"\n",(0,t.jsx)(n.li,{children:"If there is an issue with the WhatsApp Business Account, you will see the following screen."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"alt-text",children:(0,t.jsx)(n.img,{alt:"Alt text",src:s(4930).A+"",width:"584",height:"1064"})}),"\n",(0,t.jsx)(n.h3,{id:"3-leap-work-for-teams",children:"3. Leap Work for Teams"}),"\n",(0,t.jsx)(n.p,{children:"To get the QR code on Leap Work for Teams, do as follows:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Sign in to the ",(0,t.jsx)(n.strong,{children:"Leap Work for Teams"}),", go to ",(0,t.jsx)(n.strong,{children:"Profile"}),", and click the ",(0,t.jsx)(n.strong,{children:"QR code"}),". ",(0,t.jsx)(n.img,{alt:"Alt text",src:s(5435).A+"",width:"1096",height:"706"})]}),"\n",(0,t.jsxs)(n.li,{children:["Once the QR code appears, share it with a client.",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.img,{alt:"Alt text",src:s(5524).A+"",width:"1094",height:"708"})]}),"\n"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Note:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"If there is no extension, the user cannot see the QR code on Leap Work."}),"\n",(0,t.jsx)(n.li,{children:"If there is an issue with the WhatsApp Business Account, you will see the following screen."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Alt text",src:s(6653).A+"",width:"1102",height:"708"})})]})}function d(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},1602:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/inbound01-df34078b0f02ddf22892c53d50ab3d94.png"},1616:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/inbound10-6a00f7856806178e2b96dcbd067611d5.png"},2486:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/inbound05-16d940945323d650a1d8515240a5efa9.png"},2564:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/inbound07-021b633dc5359cadef36ca83ae811beb.png"},2569:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/inbound02-c552e809b06bfe0e82d24c972033e4c6.png"},2787:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/inbound08-e6f6967bc1b6ab746918eb287f943a17.png"},4448:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/inbound03-43fab2a5691ab1def16d016e872115dd.png"},4930:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/inbound12-5d21685ed0e5bc4e3d760d70002607f2.png"},5435:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/inbound13-d9feda9061fe018326465f6d9e8b6bdc.png"},5524:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/inbound14-81f11dacdf0e2fa5de6aab588b35466d.png"},5775:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/inbound04-0193824422016d7b839f3ac60eee5fe6.png"},6461:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/inbound06-ca4ea4e3731cda6604c736a6841c80aa.png"},6653:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/inbound15-79b6a54e3f82599ccfeb56011577a5af.png"},7865:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/inbound11-ae3e0fac15ea92c08489b2b8a76523f8.png"},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>c});var i=s(6540);const t={},o=i.createContext(t);function r(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(o.Provider,{value:n},e.children)}},8682:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/inbound09-9d135a95a391aedb44f713028147fa20.png"}}]);