"use strict";(self.webpackChunkdocs_as_code_jane=self.webpackChunkdocs_as_code_jane||[]).push([[286],{386:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok30-ee84c15ad3e1799a81409b37072be5df.png"},412:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok29-9452e435b2ad405215fbbd1a301d16b0.png"},1094:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok23-0c2bddb588fba6f3af8964cca0fd4f2f.png"},1783:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"byok-integration-with-azure-key-vault","title":"Step-by-Step Guide: BYOK Integration with Azure Key Vault","description":"The LeapXpert Communications Platform integrates with a customer-managed Azure Key Vault for BYOK (Bring Your Own Key), enabling secure encryption and decryption of sensitive communication data.","source":"@site/how-to/byok-integration-with-azure-key-vault.md","sourceDirName":".","slug":"/byok-integration-with-azure-key-vault","permalink":"/docs-as-code-jane/how-to/byok-integration-with-azure-key-vault","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"referenceSidebar","next":{"title":"Self-Onboarding iMessage Native for Managed Apple ID with Okta (Email and Password and Okta Verify Push authentication method)","permalink":"/docs-as-code-jane/how-to/imessage-native-self-onboarding"}}');var i=t(4848),r=t(8453);const l={},c="Step-by-Step Guide: BYOK Integration with Azure Key Vault",o={},d=[{value:"Before you start",id:"before-you-start",level:2},{value:"Configure BYOK integration with Azure Key Vault",id:"configure-byok-integration-with-azure-key-vault",level:2},{value:"Create an App Registration in Entra ID (2)",id:"create-an-app-registration-in-entra-id-2",level:3},{value:"Option 1: Authenticate App using <strong>Certificates</strong>",id:"option-1-authenticate-app-using-certificates",level:4},{value:"Option 2: Authenticate App using <strong>Client secrets</strong>",id:"option-2-authenticate-app-using-client-secrets",level:4},{value:"Create an Azure Key Vault",id:"create-an-azure-key-vault",level:3},{value:"Create a custom role for Key Vault operations",id:"create-a-custom-role-for-key-vault-operations",level:3},{value:"Create role assignment to Key Vault",id:"create-role-assignment-to-key-vault",level:3},{value:"Create a Key",id:"create-a-key",level:3},{value:"Configure in the LeapXpert Org Admin portal",id:"configure-in-the-leapxpert-org-admin-portal",level:3},{value:"Option A \u2014 Without Private Link",id:"option-a--without-private-link",level:4},{value:"Option B \u2014 Connect to customer Azure tenant with <strong>Private Link</strong>",id:"option-b--connect-to-customer-azure-tenant-with-private-link",level:4}];function a(e){const n={blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"step-by-step-guide-byok-integration-with-azure-key-vault",children:"Step-by-Step Guide: BYOK Integration with Azure Key Vault"})}),"\n",(0,i.jsxs)(n.p,{children:["The LeapXpert Communications Platform integrates with a customer-managed ",(0,i.jsx)(n.strong,{children:"Azure Key Vault"})," for ",(0,i.jsx)(n.strong,{children:"BYOK (Bring Your Own Key)"}),", enabling secure encryption and decryption of sensitive communication data."]}),"\n",(0,i.jsx)(n.p,{children:"This guide provides step-by-step instructions for configuring Azure Key Vault, creating a customer-managed key, and integrating it with LeapXpert."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"before-you-start",children:"Before you start"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Review the BYOK concept and how it works within the LeapXpert platform. See: ",(0,i.jsx)(n.strong,{children:"Configure Bring Your Own Key (BYOK) protection"})," (internal link)."]}),"\n",(0,i.jsxs)(n.li,{children:["To enable authentication, understand how to generate certificates from the LeapXpert Admin Portal. See: ",(0,i.jsx)(n.strong,{children:"Generate certificate credential keys for Microsoft Entra ID app registration"})," (internal link).\n",(0,i.jsx)(n.em,{children:"The certificate generation step is required before proceeding."})]}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Note"}),(0,i.jsx)(n.br,{}),"\n","The certificate generation step is required before proceeding to the configuration section below."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"configure-byok-integration-with-azure-key-vault",children:"Configure BYOK integration with Azure Key Vault"}),"\n",(0,i.jsx)(n.h3,{id:"create-an-app-registration-in-entra-id-2",children:"Create an App Registration in Entra ID (2)"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Log in to ",(0,i.jsx)(n.strong,{children:"Microsoft Entra Admin Center"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Go to ",(0,i.jsx)(n.strong,{children:"App registrations"}),". ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(8483).A+"",width:"1240",height:"646"})]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"+ New registration"}),". ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(5490).A+"",width:"1240",height:"636"})]}),"\n",(0,i.jsxs)(n.li,{children:["Fill in:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Name"}),": e.g., ",(0,i.jsx)(n.code,{children:"KeyVaultAccessApp"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Supported account types"}),": ",(0,i.jsx)(n.em,{children:"Accounts in this organizational directory only"})," (Single tenant)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Redirect URI"}),": Leave blank (or set if required by your app)"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Register"}),". ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(3673).A+"",width:"1244",height:"696"})]}),"\n",(0,i.jsxs)(n.li,{children:["Copy the ",(0,i.jsx)(n.strong,{children:"Application (Client) ID"})," and ",(0,i.jsx)(n.strong,{children:"Directory (Tenant) ID"})," for later use.",(0,i.jsx)(n.img,{alt:"Alt text",src:t(9472).A+"",width:"1244",height:"618"})]}),"\n",(0,i.jsxs)(n.li,{children:["Go to ",(0,i.jsx)(n.strong,{children:"Certificates & secrets"})," and choose ",(0,i.jsx)(n.strong,{children:"one"})," of the following:"]}),"\n"]}),"\n",(0,i.jsxs)(n.h4,{id:"option-1-authenticate-app-using-certificates",children:["Option 1: Authenticate App using ",(0,i.jsx)(n.strong,{children:"Certificates"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Under ",(0,i.jsx)(n.strong,{children:"Certificates"}),", click ",(0,i.jsx)(n.strong,{children:"Upload certificate"})," (or ",(0,i.jsx)(n.strong,{children:"Update certificate"}),"). ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(7503).A+"",width:"1246",height:"622"})]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Select file"})," and upload the certificate downloaded from the ",(0,i.jsx)(n.strong,{children:"LeapXpert Org Admin portal"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["(Optional) Enter a description. ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(3702).A+"",width:"1244",height:"618"})]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Add"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.h4,{id:"option-2-authenticate-app-using-client-secrets",children:["Option 2: Authenticate App using ",(0,i.jsx)(n.strong,{children:"Client secrets"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Go to ",(0,i.jsx)(n.strong,{children:"Certificates & secrets"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Client secrets"})," > ",(0,i.jsx)(n.strong,{children:"+ New client secret"}),". ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(5469).A+"",width:"1248",height:"620"})]}),"\n",(0,i.jsxs)(n.li,{children:["Enter a description and select an expiration period. ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(2228).A+"",width:"1242",height:"624"})]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Add"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Copy the Value of the secret (you\u2019ll use it for authentication). ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(2419).A+"",width:"1244",height:"626"})]}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Recommendation"}),(0,i.jsx)(n.br,{}),"\n","Use ",(0,i.jsx)(n.strong,{children:"Option 1 (Certificates)"})," to authenticate the App Registration."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"create-an-azure-key-vault",children:"Create an Azure Key Vault"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Log in to the ",(0,i.jsx)(n.strong,{children:"Azure Portal"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Select ",(0,i.jsx)(n.strong,{children:"Key vaults"}),". ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(2586).A+"",width:"1236",height:"644"})]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"+ Create"}),". ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(9192).A+"",width:"1240",height:"642"})]}),"\n",(0,i.jsxs)(n.li,{children:["Fill in the required details:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Subscription"}),": Choose your subscription."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Resource Group"}),": Select or ",(0,i.jsx)(n.strong,{children:"Create new"}),". ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(9137).A+"",width:"1248",height:"550"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Key Vault Name"}),": e.g., ",(0,i.jsx)(n.code,{children:"leapvault01"})," (must be globally unique). ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(4474).A+"",width:"1244",height:"628"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Region"}),": Select your region."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Enable Soft-delete and Purge Protection"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Soft Delete"}),": Ensure it is enabled. This ensures deleted keys can be recovered within the retention period."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Retention Period"}),": 90 days (default)."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Purge Protection"}),": Enable purge protection to prevent permanent deletion before the retention period ends. ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(6051).A+"",width:"1152",height:"628"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Review + Create"}),", then ",(0,i.jsx)(n.strong,{children:"Create"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Note"}),(0,i.jsx)(n.br,{}),"\n","To prevent data loss, enable soft delete (90-day retention) and purge protection in Azure Key Vault. This ensures customer-managed keys can be recovered if deleted, maintaining secure and uninterrupted access to encrypted data in LeapXpert."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"create-a-custom-role-for-key-vault-operations",children:"Create a custom role for Key Vault operations"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["In the ",(0,i.jsx)(n.strong,{children:"Azure Portal"}),", navigate to the ",(0,i.jsx)(n.strong,{children:"Resource Group"})," that contains your Key Vault. ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(5884).A+"",width:"1252",height:"608"})]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Access control (IAM)"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Add"}),". ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(8773).A+"",width:"1252",height:"646"})]}),"\n",(0,i.jsxs)(n.li,{children:["Click  ",(0,i.jsx)(n.strong,{children:"Add custom role"}),". ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(3022).A+"",width:"1246",height:"638"})]}),"\n",(0,i.jsxs)(n.li,{children:["Enter a ",(0,i.jsx)(n.strong,{children:"Custom role name"})," and select ",(0,i.jsx)(n.strong,{children:"Start from scratch"}),". ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(4359).A+"",width:"1248",height:"668"})]}),"\n",(0,i.jsxs)(n.li,{children:["Open the ",(0,i.jsx)(n.strong,{children:"Permissions"})," tab and click ",(0,i.jsx)(n.strong,{children:"Add permissions"}),". ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(7088).A+"",width:"1242",height:"642"})]}),"\n",(0,i.jsxs)(n.li,{children:["Search for the following permissions and add them:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Microsoft.KeyVault/vaults/keys/read"})," ",(0,i.jsx)(n.em,{children:"(Actions)"})," ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(1913).A+"",width:"1250",height:"642"})]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Add"}),". ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(2861).A+"",width:"1246",height:"634"})]}),"\n",(0,i.jsxs)(n.li,{children:["Under ",(0,i.jsx)(n.strong,{children:"Data actions"}),", repeat the above steps to those permissions:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"Microsoft.KeyVault/vaults/keys/read"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"Microsoft.KeyVault/vaults/keys/encrypt/action"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"Microsoft.KeyVault/vaults/keys/decrypt/action"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Review + create"}),", then ",(0,i.jsx)(n.strong,{children:"Create"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"create-role-assignment-to-key-vault",children:"Create role assignment to Key Vault"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["In your Key Vault, go to ",(0,i.jsx)(n.strong,{children:"Access control (IAM)"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Select ",(0,i.jsx)(n.strong,{children:"Role assignments"}),". ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(9620).A+"",width:"1250",height:"656"})]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"+ Add"})," > ",(0,i.jsx)(n.strong,{children:"Add role assignment"}),". ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(4895).A+"",width:"1252",height:"650"})]}),"\n",(0,i.jsxs)(n.li,{children:["In ",(0,i.jsx)(n.strong,{children:"Role"}),", select the ",(0,i.jsx)(n.strong,{children:"custom role"})," you created. ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(1094).A+"",width:"1242",height:"634"})]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Next"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["In the ",(0,i.jsx)(n.strong,{children:"Members"})," field, next to ",(0,i.jsx)(n.strong,{children:"Assign access to"}),", select ",(0,i.jsx)(n.strong,{children:"User, group, or service principal"}),". ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(7417).A+"",width:"1242",height:"640"})]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"+ Select members"})," and choose the ",(0,i.jsx)(n.strong,{children:"App Registration"})," you created earlier (2). ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(3216).A+"",width:"1252",height:"654"})]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Select"}),". ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(4427).A+"",width:"1252",height:"646"})]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Next"}),".  ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(2882).A+"",width:"1242",height:"636"})]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Review + assign"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"create-a-key",children:"Create a Key"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["In ",(0,i.jsx)(n.strong,{children:"Azure Portal"})," > ",(0,i.jsx)(n.strong,{children:"Key vaults"}),", select your Key Vault. ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(2037).A+"",width:"1238",height:"638"})]}),"\n",(0,i.jsxs)(n.li,{children:["In the left navigation, go to ",(0,i.jsx)(n.strong,{children:"Objects"})," > ",(0,i.jsx)(n.strong,{children:"Keys"}),". ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(412).A+"",width:"1240",height:"636"})]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"+ Generate/Import"}),". ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(386).A+"",width:"1240",height:"628"})]}),"\n",(0,i.jsxs)(n.li,{children:["Select ",(0,i.jsx)(n.strong,{children:"Generate"})," from the dropdown list. ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(4043).A+"",width:"1236",height:"640"})]}),"\n",(0,i.jsxs)(n.li,{children:["Enter a ",(0,i.jsx)(n.strong,{children:"Key name"}),".  ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(8640).A+"",width:"1240",height:"634"})]}),"\n",(0,i.jsxs)(n.li,{children:["Configure:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Key type"}),": ",(0,i.jsx)(n.code,{children:"RSA"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Key size"}),": ",(0,i.jsx)(n.code,{children:"4096"})," ",(0,i.jsx)(n.em,{children:"(recommended)"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Activation/Expiration dates"}),": Optional."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Create"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Copy the ",(0,i.jsx)(n.strong,{children:"Key Identifier (URI)"})," in the format:\n",(0,i.jsx)(n.code,{children:"https://<key-vault-name>.vault.azure.net/keys/<key-name>/<key-version>"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"configure-in-the-leapxpert-org-admin-portal",children:"Configure in the LeapXpert Org Admin portal"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Private Link"})," is a secure, private connection that keeps your data exchange with LeapXpert entirely within Microsoft\u2019s network (not over the public internet)."]}),"\n",(0,i.jsx)(n.h4,{id:"option-a--without-private-link",children:"Option A \u2014 Without Private Link"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Summary of required values"})," (prepare these for configuration in LeapXpert):"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Attribute"}),(0,i.jsx)(n.th,{children:"Value"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Key Name"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"<my-encryption-key>"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Key Vault URI"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"https://<key-vault-name>.vault.azure.net"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"App Registration ID"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"<Application (Client) ID>"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Tenant ID"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"<Directory (Tenant) ID>"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Client Secret"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"<Client Secret Value>"})," ",(0,i.jsx)(n.em,{children:"(Optional, if using secret)"})]})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Configure in LeapXpert:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Log in to the ",(0,i.jsx)(n.strong,{children:"LeapXpert Org Admin portal"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Go to ",(0,i.jsx)(n.strong,{children:"Provisioning > Security & Access > Encryption"}),". ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(4393).A+"",width:"1240",height:"640"})]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"+ Create New Key"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["In ",(0,i.jsx)(n.strong,{children:"Create a customer managed key"}),", enter ",(0,i.jsx)(n.strong,{children:"Name"})," and (optional) ",(0,i.jsx)(n.strong,{children:"Description"}),". ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(5766).A+"",width:"1244",height:"640"})]}),"\n",(0,i.jsxs)(n.li,{children:["Select ",(0,i.jsx)(n.strong,{children:"Azure Key Vault"})," and fill in:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Key name"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Vault URL"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Tenant ID"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Client ID"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Credential type"}),": ",(0,i.jsx)(n.em,{children:"Secret"})," or ",(0,i.jsx)(n.em,{children:"Certificate"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Create"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Enable BYOK"})," (top right)."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h4,{id:"option-b--connect-to-customer-azure-tenant-with-private-link",children:["Option B \u2014 Connect to customer Azure tenant with ",(0,i.jsx)(n.strong,{children:"Private Link"})]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Run the following in ",(0,i.jsx)(n.strong,{children:"Azure CLI"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'az keyvault list --query "[].{Name:name, ResourceID:id, Subscription:subscriptionId, Region:location}" -o table.\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Write down required values from the Azure CLI output or from your Azure Portal, collect the following:"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Key Vault Name"}),": ",(0,i.jsx)(n.code,{children:"<key-vault-name>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Key Vault Key Name"}),": ",(0,i.jsx)(n.code,{children:"<key-name>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Key Vault URI"}),": ",(0,i.jsx)(n.code,{children:"https://<key-vault-name>.vault.azure.net/"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Resource Path"})," (long Azure path):",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.code,{children:"/subscriptions/<subscription-id>/resourceGroups/<resource-group-name>/providers/Microsoft.KeyVault/vaults/<key-vault-name>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Subscription ID"}),": ",(0,i.jsx)(n.code,{children:"<subscription-id>"})]}),"\n"]}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsx)(n.li,{children:"Collect App Registration details"}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Tenant ID"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Application (Client) ID"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Client Secret"})," ",(0,i.jsx)(n.em,{children:"(if you\u2019re using a password to connect \u2014 optional if using certificate)"})]}),"\n"]}),"\n",(0,i.jsxs)(n.ol,{start:"4",children:["\n",(0,i.jsxs)(n.li,{children:["Send the information from steps (1) and (2) to ",(0,i.jsx)(n.strong,{children:"LeapXpert"}),".",(0,i.jsx)(n.br,{}),"\n","LeapXpert will use this information to initiate the ",(0,i.jsx)(n.strong,{children:"Private Link connection"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Once LeapXpert finishes the process, log in to your ",(0,i.jsx)(n.strong,{children:"Azure Portal"}),".","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Go to your ",(0,i.jsx)(n.strong,{children:"Key Vault"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Under ",(0,i.jsx)(n.strong,{children:"Settings"}),", click ",(0,i.jsx)(n.strong,{children:"Networking"}),". ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(4511).A+"",width:"1238",height:"652"})]}),"\n",(0,i.jsxs)(n.li,{children:["Choose ",(0,i.jsx)(n.strong,{children:"Private Endpoint Connections"}),". ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(2052).A+"",width:"1236",height:"636"})]}),"\n",(0,i.jsxs)(n.li,{children:["You will see a ",(0,i.jsx)(n.strong,{children:"pending request"})," from LeapXpert."]}),"\n",(0,i.jsxs)(n.li,{children:["Click it and ",(0,i.jsx)(n.strong,{children:"approve the request"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Note"}),(0,i.jsx)(n.br,{}),"\n","Make sure the status becomes ",(0,i.jsx)(n.strong,{children:"Approved"})," (both in your Azure Portal and in LeapXpert)."]}),"\n"]}),"\n",(0,i.jsxs)(n.ol,{start:"6",children:["\n",(0,i.jsx)(n.li,{children:"After the link is approved, you will get a few final values to configure on LeapXpert\u2019s Org Admin portal."}),"\n"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Attribute"}),(0,i.jsx)(n.th,{children:"Example"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Key Name"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"encryption-key-1"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Key Vault URL"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"https://my-keyvault-prod.privatelink.vaultcore.azure.net"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"App Registration ID"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"<Application (Client) ID>"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Tenant ID"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"<Directory (Tenant) ID>"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Client Secret"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.em,{children:"(Optional, if you\u2019re using it)"})})]})]})]}),"\n",(0,i.jsxs)(n.ol,{start:"7",children:["\n",(0,i.jsxs)(n.li,{children:["Log in to the ",(0,i.jsx)(n.strong,{children:"LeapXpert Org Admin portal"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Go to ",(0,i.jsx)(n.strong,{children:"Provisioning > Security & Access > Encryption"}),". ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(3181).A+"",width:"1240",height:"628"})]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"+ Create New Key"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Select ",(0,i.jsx)(n.strong,{children:"Azure Key Vault"})," and fill in the values from the table above. ",(0,i.jsx)(n.img,{alt:"Alt text",src:t(6586).A+"",width:"1244",height:"636"})]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Create"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Enable BYOK"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u2705 You have successfully configured the ",(0,i.jsx)(n.strong,{children:"BYOK integration with Azure Key Vault"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},1913:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok19-2f7378ea024c74035b1aaa3e8ed675b8.png"},2037:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok28-c2e1f26599759b3e7779341308f8e9e5.png"},2052:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok36-fb76ced5a250d2d1898184a3b84e4188.png"},2228:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok7-069ad5ba23b382e268ee65b2d13d8415.png"},2419:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok8-9515160d900d5a5be38758c1b23a72e0.png"},2586:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok9-09814c7aaa0e4c399066b51b5ea3d48c.png"},2861:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok20-20130a419f3a30bcc4a9138d3e5f26ff.png"},2882:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok27-68b97f49c3751a19b7a8bfd30eca509e.png"},3022:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok16-9e2702516177ca04c2b0f73653dd7d80.png"},3181:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok37-94fe264880ab7883bc506beb10773388.png"},3216:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok25-6b82a2b89c24be76b69d71d76c16683c.png"},3673:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok2-1ee8852e137e26a464c9322ebaef0047.png"},3702:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok5-66f28c0b8ac321233b7e3085438a3d20.png"},4043:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok31-5728cd66c2523a2545fdc0c65a314359.png"},4359:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok17-29280cb41f2b475b274e652b226f6c2a.png"},4393:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok33-f900cf09bff9f7d7d1b683bef3390d48.png"},4427:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok26-9e2d7b803851a5a279cb055b43499387.png"},4474:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok12-3affbb93893c7604e26b7ee57ec1a67a.png"},4511:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok35-df2f247ca7d4eb95a68dbcf96cc7c20f.png"},4895:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok22-834c5ced6a639a62e970318bf5fae439.png"},5469:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok6-3f53c2a934331f7c993153f13d5d81c1.png"},5490:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok1-592a4ef6f33eae111144b7c2eed05522.png"},5766:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok34-c5cfca2785dea2c946c8da3ce5fbdc31.png"},5884:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok14-ee5eb13c12b17c85c4c87454d2763cc4.png"},6051:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok13-b1f1b0597ea14368730504f3a9c8b0a3.png"},6586:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok38-502ef1250ce8b4490a09c6d355cc0aa4.png"},7088:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok18-58e49f5654340af4195c1529a6515f2b.png"},7417:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok24-18c60deead106b6f2ed247d6ef8d234c.png"},7503:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok4-9f8324b4b64e4e9ba64beb15a6f63c62.png"},8453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>c});var s=t(6540);const i={},r=s.createContext(i);function l(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(r.Provider,{value:n},e.children)}},8483:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok-3203c9d1abbaee5e40c20816a9914d54.png"},8640:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok32-5b5cf5a212dc29b0368dfacd713e6a31.png"},8773:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok15-deda2510af924b244bd37dc1031d9e42.png"},9137:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok11-9b887bd8335a801f0d8e61deba4a9726.png"},9192:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok10-56176e1e1cd9ea73ae9cb6fecc084ba9.png"},9472:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok3-21bb4461b061415b2c796c230dcea56a.png"},9620:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/byok21-7a399addda2f765bb603fde92cdfdf0a.png"}}]);